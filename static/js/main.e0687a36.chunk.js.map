{"version":3,"sources":["api/fetchData.ts","components/Button.tsx","components/SortButtons.tsx","components/TodoItem.tsx","components/TodoList.tsx","components/TodosBlock.tsx","App.tsx","index.tsx"],"names":["fetchData","url","a","fetch","response","json","Button","props","name","handle","className","type","onClick","SortButtons","sortBy","TodoItem","title","completed","userName","TodoList","todos","map","item","key","id","TodosBlock","todosList","useState","setTodos","value","updatedList","sort","b","App","isLoading","setLoading","hasError","setError","loadData","Promise","all","todosData","usersData","data","users","preparedTodos","userId","find","user","length","disabled","ReactDOM","render","document","getElementById"],"mappings":"+OAAaA,G,MAAS,uCAAG,WAAUC,GAAV,eAAAC,EAAA,sEACAC,MAAMF,GADN,cACjBG,EADiB,yBAGhBA,EAASC,QAHO,2CAAH,uD,OCOTC,EAA0B,SAACC,GAAW,IACzCC,EAAiBD,EAAjBC,KAAMC,EAAWF,EAAXE,OAEd,OACE,4BACEC,UAAU,YACVC,KAAK,SACLC,QAASH,GAERD,ICTMK,EAA+B,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OAC1C,yBAAKJ,UAAU,QACb,kBAAC,EAAD,CACEF,KAAK,gBACLC,OAAQ,WACNK,EAAO,YAGX,kBAAC,EAAD,CACEN,KAAK,sBACLC,OAAQ,WACNK,EAAO,gBAGX,kBAAC,EAAD,CACEN,KAAK,oBACLC,OAAQ,WACNK,EAAO,iBCrBFC,EAAmC,SAACR,GAAW,IAClDS,EAA+BT,EAA/BS,MAAOC,EAAwBV,EAAxBU,UAAWC,EAAaX,EAAbW,SAE1B,OACE,yBAAKR,UAAS,qBAAgBO,EAC1B,0BAA4B,KAE9B,2BAAID,GACJ,2BACE,sCADF,IAGG,IACAE,GAEH,2BAAID,EAAY,YAAc,mBCTvBE,EAA4B,SAACZ,GAAW,IAC3Ca,EAAUb,EAAVa,MAER,OACE,wBAAIV,UAAU,SACXU,EAAMC,KAAI,SAAAC,GAAI,OACb,wBAAIC,IAAKD,EAAKE,IACZ,kBAAC,EAAaF,SCNXG,EAA8B,SAAClB,GAAW,IAC7CmB,EAAcnB,EAAdmB,UAD4C,EAG1BC,mBAAyBD,GAHC,mBAG7CN,EAH6C,KAGtCQ,EAHsC,KAapD,OACE,oCACE,kBAAC,EAAD,CAAad,OAVF,SAACe,GACd,IAAMC,EAAcJ,EAAUK,MAAK,SAAC7B,EAAG8B,GACrC,OAAQ9B,EAAE2B,GAASG,EAAEH,GAAU,GAAK,KAGtCD,EAAS,YAAIE,OAMX,kBAAC,EAAD,CAAUV,MAAOA,MCoDRa,EAvEO,WACpB,IAD0B,EAIAN,mBAAyB,IAJzB,mBAInBP,EAJmB,KAIZQ,EAJY,OAKMD,oBAAS,GALf,mBAKnBO,EALmB,KAKRC,EALQ,OAMGR,oBAAS,GANZ,mBAMnBS,EANmB,KAMTC,EANS,KAQpBC,EAAQ,uCAAG,wCAAApC,EAAA,6DAIfmC,GAAS,GACTF,GAAW,GALI,kBAQwBI,QAAQC,IAAI,CAC/CxC,EAhBgB,2CAiBhBA,EAhBgB,6CAML,mCAQNyC,EARM,KAQKC,EARL,OAaQ,CAACD,EAAUE,KAAMD,EAAUC,MAApCC,EAbC,KAePC,EAfO,KAemCxB,KAAI,YAK7C,IAJLG,EAII,EAJJA,GACAR,EAGI,EAHJA,MACAC,EAEI,EAFJA,UACA6B,EACI,EADJA,OAIA,MAAO,CACLtB,KACAR,QACAC,YACAC,SANc0B,EAAMG,MAAK,SAAAC,GAAI,OAAIA,EAAKxB,KAAOsB,KAM3BtC,SAItBoB,EAASiB,GAETV,GAAW,GAjCE,kDAmCbE,GAAS,GACTF,GAAW,GApCE,0DAAH,qDAwCd,OACE,6BAASzB,UAAU,aACjB,qDAEmB,IAAjBU,EAAM6B,OAEF,4BACEvC,UAAU,WACVC,KAAK,SACLC,QAAS0B,EACTY,SAAUhB,GAETA,GAAa,aACbE,GAAY,cACXF,IAAcE,GAAY,QAG9B,kBAAC,EAAD,CAAYV,UAAWN,MCnEnC+B,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.e0687a36.chunk.js","sourcesContent":["export const fetchData = async <T>(url: string): Promise<{data: T[]}> => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n","import React from 'react';\n\ninterface Props {\n  name: string;\n  handle(): void;\n}\n\nexport const Button: React.FC<Props> = (props) => {\n  const { name, handle } = props;\n\n  return (\n    <button\n      className=\"sort__btn\"\n      type=\"button\"\n      onClick={handle}\n    >\n      {name}\n    </button>\n  );\n};\n","import React from 'react';\nimport { Button } from './Button';\n\ninterface Props {\n  sortBy(value: string): void;\n}\n\nexport const SortButtons: React.FC<Props> = ({ sortBy }) => (\n  <div className=\"sort\">\n    <Button\n      name=\"Sort by title\"\n      handle={() => {\n        sortBy('title');\n      }}\n    />\n    <Button\n      name=\"Not completed first\"\n      handle={() => {\n        sortBy('completed');\n      }}\n    />\n    <Button\n      name=\"Sort by user name\"\n      handle={() => {\n        sortBy('userName');\n      }}\n    />\n  </div>\n);\n","import React from 'react';\nimport { TodoModified } from '../interfaces/data';\n\nexport const TodoItem: React.FC<TodoModified> = (props) => {\n  const { title, completed, userName } = props;\n\n  return (\n    <div className={`todos__item${completed\n      ? ' todos__item--completed' : ''}`}\n    >\n      <p>{title}</p>\n      <p>\n        <span>User</span>\n        :\n        {' '}\n        {userName}\n      </p>\n      <p>{completed ? 'completed' : 'not completed'}</p>\n    </div>\n  );\n};\n","import React from 'react';\nimport { TodoItem } from './TodoItem';\nimport { TodoModified } from '../interfaces/data';\n\ninterface Props {\n  todos: TodoModified[];\n}\n\nexport const TodoList: React.FC<Props> = (props) => {\n  const { todos } = props;\n\n  return (\n    <ul className=\"todos\">\n      {todos.map(item => (\n        <li key={item.id}>\n          <TodoItem {...item} />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React, { useState } from 'react';\nimport { SortButtons } from './SortButtons';\nimport { TodoList } from './TodoList';\nimport { TodoModified } from '../interfaces/data';\n\ninterface Props {\n  todosList: TodoModified[];\n}\n\nexport const TodosBlock: React.FC<Props> = (props) => {\n  const { todosList } = props;\n\n  const [todos, setTodos] = useState<TodoModified[]>(todosList);\n\n  const sortBy = (value: string) => {\n    const updatedList = todosList.sort((a, b) => {\n      return (a[value] > b[value]) ? 1 : -1;\n    });\n\n    setTodos([...updatedList]);\n  };\n\n  return (\n    <>\n      <SortButtons sortBy={sortBy} />\n      <TodoList todos={todos} />\n    </>\n  );\n};\n","import React, { useState } from 'react';\nimport './App.css';\nimport { fetchData } from './api/fetchData';\nimport { TodosBlock } from './components/TodosBlock';\nimport { Todo, User, TodoModified } from './interfaces/data';\n\nconst App: React.FC = () => {\n  const API_URL_TODOS = 'https://mate.academy/students-api/todos';\n  const API_URL_USERS = 'https://mate.academy/students-api/users';\n\n  const [todos, setTodos] = useState<TodoModified[]>([]);\n  const [isLoading, setLoading] = useState(false);\n  const [hasError, setError] = useState(false);\n\n  const loadData = async () => {\n    let initTodos: Todo[];\n    let users: User[];\n\n    setError(false);\n    setLoading(true);\n\n    try {\n      const [todosData, usersData] = await Promise.all([\n        fetchData<Todo>(API_URL_TODOS),\n        fetchData<User>(API_URL_USERS),\n      ]);\n\n      [initTodos, users] = [todosData.data, usersData.data];\n\n      const preparedTodos: TodoModified[] = initTodos.map(({\n        id,\n        title,\n        completed,\n        userId,\n      }) => {\n        const userObj = users.find(user => user.id === userId)!;\n\n        return {\n          id,\n          title,\n          completed,\n          userName: userObj.name,\n        };\n      });\n\n      setTodos(preparedTodos);\n\n      setLoading(false);\n    } catch (e) {\n      setError(true);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <section className=\"task-wrap\">\n      <h1>Dynamic list of TODOs</h1>\n      {\n        todos.length === 0\n          ? (\n            <button\n              className=\"init-btn\"\n              type=\"button\"\n              onClick={loadData}\n              disabled={isLoading}\n            >\n              {isLoading && 'Loading...'}\n              {hasError && 'Try again!'}\n              {!isLoading && !hasError && 'Load'}\n            </button>\n          )\n          : <TodosBlock todosList={todos} />\n      }\n    </section>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}