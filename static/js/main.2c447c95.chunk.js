(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),s=n(2),u=n.n(s),l=n(4),i=n(1),m=(n(15),function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=n(8),p=function(e){var t=e.name,n=e.handle;return r.a.createElement("button",{className:"sort__btn",type:"button",onClick:n},t)},f=function(e){var t=e.sortBy;return r.a.createElement("div",{className:"sort"},r.a.createElement(p,{name:"Sort by title",handle:function(){t("title")}}),r.a.createElement(p,{name:"Not completed first",handle:function(){t("completed")}}),r.a.createElement(p,{name:"Sort by user name",handle:function(){t("userName")}}))},b=function(e){var t=e.title,n=e.completed,a=e.userName;return r.a.createElement("div",{className:"todos__item".concat(n?" todos__item--completed":"")},r.a.createElement("p",null,t),r.a.createElement("p",null,r.a.createElement("span",null,"User"),":"," ",a),r.a.createElement("p",null,n?"completed":"not completed"))},E=function(e){var t=e.todos;return r.a.createElement("ul",{className:"todos"},t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(b,e))})))},v=function(e){var t=e.todosList,n=Object(a.useState)(t),c=Object(i.a)(n,2),o=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{sortBy:function(e){var n=t.sort((function(t,n){return t[e]>n[e]?1:-1}));s(Object(d.a)(n))}}),r.a.createElement(E,{todos:o}))},h=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(i.a)(o,2),d=s[0],p=s[1],f=Object(a.useState)(!1),b=Object(i.a)(f,2),E=b[0],h=b[1],y=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r,o,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),p(!0),e.prev=2,e.next=5,Promise.all([m("https://mate.academy/students-api/todos"),m("https://mate.academy/students-api/users")]);case 5:n=e.sent,a=Object(i.a)(n,2),r=a[0],o=a[1],s=[r.data,o.data],t=s[1],l=s[0].map((function(e){var n=e.id,a=e.title,r=e.completed,c=e.userId,o=t.find((function(e){return e.id===c}));return{id:n,title:a,completed:r,userName:o?o.name:"Undefined user"}})),c(l),p(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),h(!0),p(!1);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"task-wrap"},r.a.createElement("h1",null,"Dynamic list of TODOs"),0===n.length?r.a.createElement("button",{className:"init-btn",type:"button",onClick:y,disabled:d},d&&"Loading...",E&&"Try again!",!d&&!E&&"Load"):r.a.createElement(v,{todosList:n}))};o.a.render(r.a.createElement(h,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.2c447c95.chunk.js.map