(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),s=n(1),u=(n(14),n(4)),l=n.n(u),i=n(7),m=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=n(8),p=function(e){var t=e.name,n=e.handle;return r.a.createElement("button",{className:"sort__btn",type:"button",onClick:n},t)},f=function(e){var t=e.sortBy;return r.a.createElement("div",{className:"sort"},r.a.createElement(p,{name:"Sort by title",handle:function(){t("title")}}),r.a.createElement(p,{name:"Not completed first",handle:function(){t("completed")}}),r.a.createElement(p,{name:"Sort by user name",handle:function(){t("userName")}}))},b=function(e){var t=e.title,n=e.completed,a=e.userName;return r.a.createElement("div",{className:"todos__item".concat(n?" todos__item--completed":"")},r.a.createElement("p",null,t),r.a.createElement("p",null,r.a.createElement("span",null,"User"),":"," ",a),r.a.createElement("p",null,n?"completed":"not completed"))},E=function(e){var t=e.todos;return r.a.createElement("ul",{className:"todos"},t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(b,e))})))},h=function(e){var t=e.todosList,n=Object(a.useState)(t),c=Object(s.a)(n,2),o=c[0],u=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{sortBy:function(e){var n=t.sort((function(t,n){return t[e]>n[e]?1:-1}));u(Object(d.a)(n))}}),r.a.createElement(E,{todos:o}))},v=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),u=Object(s.a)(o,2),l=u[0],i=u[1],d=Object(a.useState)(!1),p=Object(s.a)(d,2),f=p[0],b=p[1];return r.a.createElement("section",{className:"task-wrap"},r.a.createElement("h1",null,"Dynamic list of TODOs"),0===n.length?r.a.createElement("button",{className:"init-btn",type:"button",onClick:function(){var e,t;b(!1),i(!0),m("https://mate.academy/students-api/todos").then((function(t){return e=t.data,m("https://mate.academy/students-api/users")})).then((function(n){t=n.data;var a=e.map((function(e){var n=e.id,a=e.title,r=e.completed,c=e.userId;return{id:n,title:a,completed:r,userName:t.find((function(e){return e.id===c})).name}}));c(a),i(!1)})).catch((function(){b(!0),i(!1)}))},disabled:l},l&&"Loading...",f&&"Try again!",!l&&!f&&"Load"):r.a.createElement(h,{todosList:n}))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.85f6d253.chunk.js.map